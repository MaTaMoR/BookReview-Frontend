<div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="20px">
  <span class="profile-username"> {{ getProfile().username }}</span>
  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="center center" fxLayoutGap="50px" fxLayoutGap.lt-md="20px" fxFlexFill>
    <div fxFlex="50" fxFlex.lt-md="100" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="20px">
      <img [src]="(getProfile().image ? (getProfile().image.id | image) : 'assets/unknown_user.jpg')"
           alt="profile"
           class="profile-image">
      <button mat-button (click)="openUpload()">Cambiar imagen</button>
    </div>
    <div fxFlex="50" fxFlex.lt-md="100" fxLayout="column" class="w-100">
      <form [formGroup]="formGroup" class="mt-3 w-100" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="10px">
        <mat-form-field appearance="standard" fxFlexFill>
          <mat-label>Nombre</mat-label>
          <input autocomplete="off" class="text-align-center" formControlName="name" matInput name="name" type="text">
          <mat-hint *ngIf="hasError('name')">
            <p class="form-error">{{ getError('name') }}</p>
          </mat-hint>
        </mat-form-field>
        <mat-form-field appearance="standard" fxFlexFill>
          <mat-label>Apellidos</mat-label>
          <input autocomplete="off" class="text-align-center" formControlName="surnames" matInput name="surnames" type="text">
          <mat-hint *ngIf="hasError('surnames')">
            <p class="form-error">{{ getError('surnames') }}</p>
          </mat-hint>
        </mat-form-field>
        <mat-form-field appearance="standard" fxFlexFill>
          <mat-label>Password</mat-label>
          <input autocomplete="off" class="text-align-center" formControlName="password" matInput name="password"
                 type="password">
          <mat-hint *ngIf="hasError('password')">
            <p class="form-error">{{ getError('password') }}</p>
          </mat-hint>
        </mat-form-field>
        <mat-form-field appearance="standard" fxFlexFill>
          <mat-label>Confirmar contraseña</mat-label>
          <input autocomplete="off" class="text-align-center" formControlName="confirmPassword" matInput name="confirmPassword"
                 type="password">
          <mat-hint *ngIf="hasError('confirmPassword')">
            <p class="form-error">{{ getError('confirmPassword') }}</p>
          </mat-hint>
        </mat-form-field>
      </form>
    </div>
  </div>
  <div class="button-container w-100" fxLayout="row" fxLayoutAlign="center center">
    <button (click)="updateProfile()" [disabled]="loading" class="mt-3" mat-button type="submit">Actualizar información</button>
  </div>
</div>
